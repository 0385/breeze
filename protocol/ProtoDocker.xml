<?xml version="1.0" encoding="UTF-8"?>

<ProtoTraits>
  <MinNo>2000</MinNo>
  <MaxNo>3000</MaxNo>
  <UseLog4z>true</UseLog4z>
</ProtoTraits>


<Proto>
    <packet name="DockerPulse" desc= "集群脉冲">
    </packet>

    <packet name="CreateServiceInDocker" desc= "创建并初始化一个service">
        <member name="serviceType" type="ui16"   desc=""/>
        <member name="serviceID" type="ui64"   desc=""/>
        <member name="serviceName" type="string"   desc=""/>
        <member name="clientDockerID" type="ui32"   desc=""/>
        <member name="clientSessionID" type="ui32"   desc=""/>
    </packet>

    <packet name="CreateOrRefreshServiceNotice" desc= "广播给所有docker">
        <member name="serviceDockerID" type="ui32"   desc=""/>
        <member name="serviceType" type="ui16"   desc=""/>
        <member name="serviceID" type="ui64"   desc=""/>
        <member name="serviceName" type="string"   desc=""/>
        <member name="status" type="ui16"   desc=""/>
        <member name="clientDockerID" type="ui32"   desc=""/>
        <member name="clientSessionID" type="ui32"   desc=""/>
    </packet>

    <packet name="ChangeServiceClient" desc= "更改clientID">
        <member name="serviceType" type="ui16"   desc=""/>
        <member name="serviceID" type="ui64"   desc=""/>
        <member name="clientDockerID" type="ui32"   desc=""/>
        <member name="clientSessionID" type="ui32"   desc=""/>
    </packet>

    <packet name="KickRealClient" desc= "踢掉一个客户端">
        <member name="clientSessionID" type="ui32"   desc=""/>
    </packet>

    <packet name="RealClientClosedNotice" desc= "客户端离线通知">
        <member name="serviceID" type="ui64"   desc=""/>
        <member name="clientDockerID" type="ui32"   desc=""/>
        <member name="clientSessionID" type="ui32"   desc=""/>
    </packet>

    <packet name="DestroyServiceInDocker" desc= "销毁一个Service">
        <member name="serviceType" type="ui16"   desc=""/>
        <member name="serviceID" type="ui64"   desc=""/>
    </packet>
     <packet name="DestroyServiceNotice" desc= "已卸载并完成销毁,广播给所有docker">
        <member name="serviceType" type="ui16"   desc=""/>
        <member name="serviceID" type="ui64"   desc=""/>
    </packet>

    <packet name="ShutdownClusterServer" desc= "关闭服务器集群">
    </packet>


    <packet name="ForwardToService" desc= "转发到其他docker上的Service">
        <header name="trace" type="tracing" desc="header field" />
        <body>
            <attachment name="proto" type="any" desc="full proto serialize" />
        </body>
    </packet>

    <packet name="ForwardToRealClient" desc= "转发给真正的client">
        <header name="sessionID" type="SessionID" desc="header field" />
        <body>
            <attachment name="proto" type="any" desc="full proto serialize" />
        </body>
    </packet>





</Proto>

