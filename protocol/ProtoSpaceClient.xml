<?xml version="1.0" encoding="UTF-8"?>

<ProtoTraits>
  <MinNo>50000</MinNo>
  <MaxNo>51000</MaxNo>
  <UseLog4z>1</UseLog4z>
</ProtoTraits>


<Proto>



<!------------------------------------ space --------------------------------------------->

    <proto name="SceneInfoReq" desc= "获取场景信息">
    </proto>
    <proto name="SceneInfoAck" desc= "获取场景信息">
        <member name="retCode"  type="ui16" desc="错误码"/> 
        <member name="scenes" type="SceneInfoArray"  desc=""/>
    </proto>

    <proto name="TryEnterSceneReq" desc= "进入场景">
        <member name="type" type="ui16"  desc="类型, 如果是不同类型,该请求会触发场景切换动作"/>
    </proto>
    <proto name="TryEnterSceneAck" desc= "进入场景">
        <member name="retCode"  type="ui16" desc="错误码"/> 
        <member name="scenes" type="SceneInfoArray"  desc="要检查状态, 如果是主城则状态会置换为INSTACING, 如果是需要匹配的 状态为匹配中"/>
    </proto>

    <proto name="SceneInfoNotice" desc= "场景信息刷新,如果是匹配模式, 需要扩展当前匹配信息到该协议中">
        <member name="retCode"  type="ui16" desc="错误码"/> 
        <member name="scenes" type="SceneInfoArray"  desc="要检查状态, 如果是主城则状态会置换为INSTACING, 如果是需要匹配的 状态为匹配中"/>
    </proto>

    <proto name="LeaveSceneReq" desc= "离开场景">
        <member name="type" type="ui16"  desc="类型"/>
    </proto>
    <proto name="LeaveSceneAck" desc= "离开场景">
        <member name="retCode"  type="ui16" desc="错误码"/> 
        <member name="scenes" type="SceneInfoArray"  desc="要检查状态, 如果是主城则状态会置换为INSTACING, 如果是需要匹配的 状态为匹配中"/>
    </proto>

    <proto name="QuitSceneReq" desc= "退出场景">
        <member name="type" type="ui16"  desc="类型"/>
    </proto>
    <proto name="QuitSceneAck" desc= "退出场景">
        <member name="retCode"  type="ui16" desc="错误码"/> 
        <member name="scenes" type="SceneInfoArray"  desc="要检查状态, 如果是主城则状态会置换为INSTACING, 如果是需要匹配的 状态为匹配中"/>
    </proto>

    




    <proto name="FillSpaceNotice" desc= "填充场景数据">
        <member name="entitys"  type="EntityFullInfoArray" desc="这里包含有所有当前场景下的实体属性和状态数据"/>
        <member name="spaceStartTime"  type="double" desc="服务器战场开始时间"/>
        <member name="spaceEndTime"  type="double" desc="服务器战场结束时间"/>
        <member name="serverTime"  type="double" desc="服务器当前时间"/>
    </proto>

    <proto name="RefreshSpaceNotice" desc= "增量更新场景中的实体数据, 服务器定时100ms广播">
        <member name="entitys"  type="EntityInfoArray" desc=""/>
        <member name="reports"  type="EntityReportArray" desc=""/>
        <member name="serverTime"  type="double" desc="服务器当前时间"/>
    </proto>


     <proto name="AddEntityNotice" desc= "一批实体加入场景时, 把这些实体的数据广播给其他玩家">
        <member name="entitys"  type="EntityFullInfoArray" desc=""/>
        <member name="serverTime"  type="double" desc="服务器当前时间"/>
    </proto>

     <proto name="RemoveEntityNotice" desc= "实体离开场景时, 把该实体的数据广播给其他玩家">
        <member name="eids"  type="EntityIDArray" desc=""/>
        <member name="serverTime"  type="double" desc="服务器当前时间"/>
    </proto>



</Proto>

